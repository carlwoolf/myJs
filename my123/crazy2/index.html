<!DOCTYPE html>
<html lang="en">
<head>
    <?xml version="1.0" encoding="UTF-8"?>

    <meta charset="UTF-8">
    <title>Sim Crazy Cube</title>
    <script src="../js-lib/bootstrap-502.bundle.min.js" type="text/javascript"></script>
    <link href="../js-lib/bootstrap-502.min.css" rel="stylesheet">
    <script src="../js-lib/jquery-3.6.0.min.js" type="text/javascript"></script>

    <link href="crazy.css" rel="stylesheet">

    <script src="pieceSvgs.js" type="text/javascript"></script>
    <script src="util2.js" type="text/javascript"></script>
    <script src="misc.js" type="text/javascript"></script>
    <script src="miscResults.js" type="text/javascript"></script>
    <script src="crazy2.js" type="text/javascript"></script>
    <script src="display2.js" type="text/javascript"></script>
    <script src="moves2.js" type="text/javascript"></script>
    <script src="model2.js" type="text/javascript"></script>
    <script src="macs.js" type="text/javascript"></script>
    <!--    <script src="claudeRubik.js" type="text/javascript"></script>-->
    <!--    <script src="gptRubik.js" type="text/javascript"></script>-->
    <script src="matrix.js" type="text/javascript"></script>
    <script src="matrixAngles.js" type="text/javascript"></script>
    <!--    <script src="../crazy2data/wins_Go.js" type="text/javascript"></script>-->
    <!--    <script src="../crazy2data/wins_Oy.js" type="text/javascript"></script>-->
    <!--    <script src="../crazy2data/winsGo.js" type="text/javascript"></script>-->
    <!--    <script src="../crazy2data/winsGy.js" type="text/javascript"></script>-->
    <!--    <script src="../crazy2data/winsOy.js" type="text/javascript"></script>-->

    <script type="text/javascript">
        $(document).ready(function () {
            // setupCrazy();
            setupCrazy2();
        });
    </script>
</head>
<body>
<div class="container" id="mainContainer">
    <div class="row ms-3 w-100">
        <div class=" mt-4 col-12 p-0 xtraControls">

            <button class="mt-1 ms-4" id="toggleRufInput"
                    data-toggle="tooltip" data-placement="left"
                    title="Toggle between displaying colors (gy) and directions (r)"
                    custom-class="tooltip">
                <span class="tFH" id="tRuf">R</span>/<span class="tFH" id="tHue">gy</span></button>
            <button class="mt-1" for="moveSequence" id="lSequence"
                    data-toggle="tooltip" data-placement="left"
                    title="Shift-click to reverse the move sequence">Go!
            </button>
            <button class="mt-1" id="hueVariantsButton"
                    data-toggle="tooltip" data-placement="left"
                    title="Click to load concise hued display of selected macro">HueVariants
            </button>
            <br/>
            <input class="mt-1 w-75" type="text" id="moveSequence"
                   data-toggle="tooltip" data-placement="left"
                   autocomplete="off"
                   title="Alt-click to popup full content"
                   custom-class="tooltip"
                   placeholder="Eg: 'r' or 'gy,-go'"/>
            <div class="row">
                <div class="col-6">
                    <button class="mt-1" for="macro" id="lMacro"
                            data-toggle="tooltip" data-placement="left"
                            title="Shift-click to reverse the macro sequence. Alt-click to add macro to input field.
                                Meta-click to show macro as one move"
                            custom-class="tooltip">DoMac
                    </button>
                    <input type="checkbox" id="eagerMacro"
                           data-toggle="tooltip" data-placement="left"
                           title="Check to perform as soon as item is selected"/>
                    <select id="macro">
                        <option disabled="true" selected>Macro</option>
                    </select>
                    <input type="checkbox" id="solveWithMacro"
                           data-toggle="tooltip" data-placement="left"
                           title="Check to display macro and hues"/>
                    <br/>
                    <button class="mt-1" for="history" id="lHistory"
                            data-toggle="tooltip" data-placement="left"
                            title="Shift-click to reverse the move sequence"
                            custom-class="tooltip">DoHist
                    </button>
                    <input type="checkbox" id="eagerHistory"
                           data-toggle="tooltip" data-placement="left"
                           title="Check to perform as soon as item is selected"/>
                    <select id="history">
                        <option disabled="true" value="placeholder" selected>history</option>
                        <!--            <option value="clearHistory">Clear History</option>-->
                    </select>
                    <div id="clearButtons">Clear:
                        <span id="clearButtonsSpan">
                        <button class="p-0" id="resetTrackingButton">Tracks</button>
                        <button class="p-0" id="clearHistory">History</button>
                        <button class="p-0" id="clearMoves">Input</button>
                        <button class="p-0" id="clearArrays">Graphs</button>
                        <button id="resetButton"> ( All 4 )</button><br/>
                    </span>
                    </div>
                    <div class="mt-1"><span id="reportDiffs"></span></div>
                </div>
                <div class="col-6">
                    <div class="            col mt-2 p-0 xtraControls">
                        <button id="toggleMovesDiffBtn"> +/- MoveDiffs</button>
                        <span id="moveDiffsBool"></span><br/>
                        <button id="toggleBothDiffBtn"> +/- BothDiffs</button>
                        <span id="bothDiffsBool"></span><br/>
                        <button class="mb-2" id="toggleTurnsDiffBtn"> +/- TurnDiffs</button>
                        <span id="turnDiffsBool"></span><br/>
                        <button class="mt-1" for="whichRuf" id="lWhichRuf">Select RUF</button>
                        <select id="whichRuf">
                            <option disabled="true">Which RUF</option>
                            <option value="GoOyGy"> GoOyGy</option>
                            <option value="GoGyOy"> GoGyOy</option>
                            <option value="OyGyGo"> OyGyGo</option>
                            <option value="OyGoGy"> OyGoGy</option>
                            <option value="GyGoOy" selected>GyGoOy</option>
                            <option value="GyOyGo"> GyOyGo</option>
                        </select><br>
                        <div class="hfBold" id="rufRLcurrent"></div>
                    </div>
                </div>
            </div>
            <div id="ruf2hues"></div>
        </div>
    </div>
    <hr/>
    <div class="ms-1 mt-0 mb-0 me-0 w-100 current row">
        <!-- in bs5 'col-3' means 25%. simple col as last works around bug of "4x3 < 12"-->
        <div class="svgDisplay2 col-4 p-0" id="svg_gy"></div>
        <div class="svgDisplay2 col-4 p-0" id="svg_oy"></div>
        <div class="svgDisplay2 col-4 p-0" id="svg_go"></div>
    </div>
    <div class="ms-1 mt-1 mb-0 me-0 w-100 solved row">
        <div class="svgDisplay2 col-4 p-0" id="svg_gySolved"></div>
        <div class="svgDisplay2 col-4 p-0" id="svg_oySolved"></div>
        <div class="svgDisplay2 col-4 p-0" id="svg_goSolved"></div>
    </div>
    <div class="ms-4"><span class="footnote">Click cross for clockwise move. . . Shift-click for minus move. . . Alt-click to toggle tracking</span>
    </div>

    <div id="archtypeDiv" class="m-2">
        <!-- https://editor.method.ac/ -->
        <svg id="archtypeSvg"
             xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 250 250"
             class="d-none">
            <defs>
                <g id="Cx" class="d-none Cx">
                    <ellipse fill="rgb(225,225,225)" cx="16" cy="16" rx="16" ry="16"></ellipse>
                    <path class="c1" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 16.435 3.408 C 6.81 4.889 14.127 10.584 11.785 15.269 C 11.109 16.62 3.622 14.367 2.324 16.962 C 0.718 20.174 9.716 21.061 11.425 19.353 C 12.81 17.969 9.554 23.395 10.436 25.143 C 10.969 26.198 15.667 28.673 16.842 28.673"></path>
                    <path class="c2" stroke="rgb(0, 0, 0)" fill="rgb(237,  86, 127)"
                          d="M 16.565 3.259 C 24.042 5.359 18.256 11.136 20.494 15.215 C 21.588 17.21 31.066 15.108 28.72 19.427 C 27.64 21.416 23.283 19.617 21.856 20.929 C 20.503 22.177 22.197 25.87 21.367 27.397 C 20.98 28.109 16.628 29.553 16.628 28.748"></path>
                    <rect x="16" y="4" width=".082" height="25.259" style="stroke: rgb(0, 0, 0);"></rect>
                </g>
                <g id="Tx" class="d-none Tx">
                    <ellipse fill="rgb(225,225,225)" cx="16" cy="16" rx="16" ry="16"></ellipse>
                    <path class="c1" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 15.064 1.81 C 14.833 3.41 14.703 4.029 14.784 5.876 C 14.802 6.273 14.767 7.589 14.538 7.812 C 13.889 8.445 12.76 9.098 11.86 9.574 C 11.6 9.711 11.098 10.854 11.049 10.901 C 10.886 11.058 10.997 11.046 10.78 10.975 C 10.22 10.791 9.687 10.312 9.058 10.216 C 7.201 9.93 6.794 9.716 4.989 9.271 C 4.488 9.149 4.332 9.39 3.902 9.809 C 3.53 10.172 4.33 10.914 4.552 11.021 C 6.199 11.818 6.967 11.77 8.735 12.2 C 9.303 12.337 9.866 12.911 10.433 12.911 C 10.698 12.911 10.106 13.079 9.987 13.31 C 9.77 13.734 9.47 14.106 9.47 14.611 C 9.47 15.637 9.838 16.857 9.846 17.576 C 9.847 17.739 9.116 17.875 8.945 17.93 C 7.71 18.332 6.341 19.094 5.173 19.665 C 4.144 20.166 4.86 20.167 3.868 20.651 C 3.271 20.942 3.397 22.191 3.647 22.556 C 3.911 22.939 5.164 22.344 5.588 22.209 C 7.197 21.697 9.347 20.035 10.635 19.205 C 10.838 19.075 10.739 19.645 10.865 19.827 C 11.036 20.073 11.539 20.379 11.829 20.45 C 12.276 20.558 12.342 20.528 12.67 20.845 C 12.816 20.987 12.889 20.608 12.932 20.669 C 13.205 21.069 13.963 21.077 14.187 21.512 C 14.395 21.913 14.415 23.477 14.368 23.976 C 14.231 25.407 14.097 26.868 14.374 27.672 C 14.578 28.263 13.962 30.336 15.028 30.507 C 16.094 30.678 16.294 30.545 16.535 30.144 C 17.326 28.828 17.383 25.288 17.244 23.76 C 17.19 23.163 17.349 22.827 17.349 22.236 C 17.349 21.963 17.164 21.592 16.674 21.277 C 16.186 20.964 17.872 21.693 18.298 21.074 C 18.396 20.93 19.794 19.926 19.979 20.101 C 21.251 21.319 21.751 21.657 23.49 22.118 C 25.03 22.524 25.543 22.822 26.981 23.709 C 27.318 23.917 28.856 22.948 28.183 22.327 C 27.666 21.851 28.03 22.104 27.936 22.078 C 26.897 21.79 27.429 21.837 26.079 21.169 C 25.374 20.82 24.256 19.998 23.239 19.604 C 22.443 19.296 21.562 18.726 20.615 18.726 C 20.257 18.726 21.242 18.345 21.442 18.054 C 21.867 17.433 21.712 17.154 21.947 16.466 C 22.163 15.836 22.069 14.881 21.712 14.356 C 21.621 14.222 21.033 13.478 21.176 13.338 C 21.649 12.877 23.414 12.753 24.098 12.584 C 25.503 12.238 26.379 11.725 27.639 10.788 C 28.138 10.417 28.487 10.549 28.095 9.811 C 27.654 8.98 27.382 9.152 26.798 9.342 C 24.814 9.987 24.801 9.794 22.974 10.685 C 22.471 10.931 21.204 10.996 20.812 11.379 C 20.708 11.48 20.728 11.816 20.63 11.912 C 20.598 11.942 20.426 10.956 20.401 10.885 C 20.18 10.231 19.964 10.111 19.491 9.675 C 18.92 9.148 17.467 8.097 16.716 7.967 C 16.404 7.914 16.943 6.091 16.943 5.901 C 16.943 4.47 16.831 3.064 16.831 1.63 C 16.599 1.311 15.078 1.244 15.064 1.81 Z"></path>
                    <path d="m15.2,14.4c0,0 0,0 0,-1c0,0 0,0 0,0c0,0 0,-1 0,-1c0,0 0,0 0,0c0,-1 0,-1 0,-1c0,0 0,0 0,-1c0,0 0,0 0,0c0,0 0,-1 0,-1c0,0 0,0 0,0c-1,1 -1,1 -1,1c0,0 0,0 0,0l-1,1l0,0l0,0"
                          id="svg_3" stroke="#000" fill="none"/>
                    <path d="m15.2,9.4c0,0 0,0 0,0c1,0 1,0 1,0c0,0 0,0 0,0c0,1 1,1 1,1l0,0" id="svg_5" stroke="#000"
                          fill="none"/>
                    <path d="m14.5,14.16667c0,0 0,-1 0,-1c0,0 1,0 1,0c0,0 0,0 0,0c0,0 0,0 0,-1c0,0 0,0 0,0c0,0 0,0 0,0c0,-1 0,-1 0,-1c0,0 0,0 0,0c0,0 0,-1 0,-1c0,0 0,0 0,0c0,0 1,-1 0,-1c-1,0 0,1 0,1c0,0 0,0 0,1c0,0 0,0 0,0c0,0 0,1 0,1c0,0 0,0 0,0c0,0 0,0 0,1c0,0 0,0 0,0l0,0l0,0l0,0"
                          id="svg_4" stroke="#000" fill="none"/>
                </g>
                <g id="Dx" class="d-none Dx">
                    <ellipse fill="rgb(225,225,225)" cx="16" cy="16" rx="16" ry="16"></ellipse>
                    <path class="c1" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 14.764 7.648 C 13.103 8.026 13.301 7.895 12.352 8.369 C 12.127 8.481 11.756 9.361 11.55 9.36 C 10.934 9.357 9.868 8.706 9.25 8.552 C 8.581 8.384 7.964 8.262 7.285 8.209 C 5.983 8.105 3.343 6.913 2.188 8.068 C 1.994 8.262 2.244 9.121 2.288 9.146 C 3.48 9.831 6.19 10.858 8.081 11.323 C 8.31 11.379 9.141 11.522 9.141 11.529 C 9.141 11.564 8.665 11.738 8.608 11.795 C 7.98 12.422 8.693 12.146 8.379 13.09 C 8.259 13.449 8.531 15.292 8.687 15.754 C 8.739 15.907 9.591 16.893 9.417 16.973 C 8.317 17.475 7.219 17.478 6.125 17.9 C 5.132 18.282 4.232 19.01 3.299 19.476 C 2.475 19.888 2.613 19.502 2.241 20.618 C 2.036 21.234 1.966 21.043 2.339 21.167 C 3.855 21.671 4.785 21.013 6.141 20.488 C 7.156 20.095 8.254 19.974 9.29 19.627 C 9.514 19.553 9.203 20.079 9.377 20.077 C 9.438 20.077 10.043 20.982 10.299 21.066 C 10.881 21.259 10.594 21.451 11.201 21.752 C 11.287 21.795 12.032 22.449 12.013 22.529 C 11.852 23.231 13.167 22.938 13.398 23.627 C 13.951 25.27 12.743 27.388 13.516 28.918 C 13.644 29.172 13.428 29.693 13.592 29.939 C 13.837 30.304 14.816 30.662 14.838 30.684"></path>
                    <path class="c2" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 15.936 1.475 C 19.262 0.185 18.322 6.361 18.244 7.412 C 18.234 7.544 18.427 7.216 18.633 7.412 C 20.53 9.216 20.27 8.011 21.747 9.682 C 22.293 10.3 22.961 9.653 23.219 9.677 C 23.792 9.731 24.363 9.556 24.926 9.449 C 26.711 9.109 27.39 8.133 29.405 8.6 C 30.168 8.777 30.224 10.233 29.85 10.344 C 27.713 10.977 25.859 10.863 24.033 11.489 C 23.501 11.671 23.756 11.725 23.255 11.975 C 23.021 12.092 22.616 12.588 22.878 12.588 C 23.378 12.588 22.649 13.005 22.702 13.342 C 22.848 14.269 23.048 15.513 22.212 15.931 C 22.158 15.958 22.404 16.145 22.419 16.156 C 24.311 17.569 26.382 18.058 28.215 19.426 C 28.687 19.778 29.626 19.751 30.045 20.167 C 30.275 20.394 29.837 21.815 29.627 21.956 C 28.798 22.508 27.853 21.831 27 21.64 C 24.837 21.154 23.288 20.107 21.543 19.225 C 21.215 19.06 21.611 19.561 21.417 19.223 C 21.243 18.921 22.515 20.453 21.387 19.168 C 21.322 19.094 21.41 19.503 21.311 19.702 C 21.03 20.265 21.082 19.053 21.103 19.732 C 21.166 21.733 18.821 23.547 16.593 23.387"></path>
                    <rect x="15.789" y="1.685" width="0.082" height="28.5" style="stroke: rgb(0, 0, 0)"></rect>
                </g>
                <g id="Jx" class="d-none Jx">
                    <ellipse fill="rgb(225,225,225)" cx="16" cy="16" rx="16" ry="16"></ellipse>
                    <path class="c1" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 12.174 4.997 C 12.902 4.815 12.798 3.45 13.155 4.157 C 13.318 4.479 15.529 3.244 15.971 3.391 C 17.13 3.776 17.194 3.987 18.773 3.464 C 19.026 3.38 21.362 3.478 21.613 3.352 C 22.357 2.981 22.88 5.375 23.471 4.491 C 23.891 3.863 21.868 5.563 22.661 5.166 C 23.118 4.937 24.047 5.247 24.492 5.394 C 24.62 5.436 25.603 5.331 25.604 5.432 C 25.606 5.555 24.827 6.095 24.729 6.193 C 24.034 6.888 24.059 8.054 23.325 8.705 C 19.774 11.854 17.494 14.04 20.556 15.825 C 20.853 15.998 21.841 16.542 22.136 16.701 C 25.1 18.296 29.663 16.992 29.595 17.825 C 29.4 20.201 29.953 18.788 29.093 19.551 C 28.667 19.929 27.483 19.418 27.419 19.546 C 27.364 19.655 26.864 22.129 26.765 22.179 C 25.78 22.671 26.377 22.016 25.593 23.584 C 25.361 24.048 26.738 24.201 27.043 24.804 C 27.26 25.234 26.251 25.743 26.548 26.137 C 26.676 26.306 25.892 25.87 25.743 26.021 C 25.581 26.185 24.706 25.368 24.526 25.367 C 24.516 25.367 23.567 24.787 23.496 24.716 C 22.76 23.975 22.718 22.562 22.283 21.57 C 19.84 16.006 16.625 15.736 14.842 18.079 C 14.055 19.114 13.056 18.757 12.298 20.067 C 12.095 20.417 11.83 22.149 11.517 22.588 C 11.183 23.055 10.281 22.894 9.925 24.758 C 9.841 25.199 8.57 25.144 8.416 25.606 C 8.338 25.84 9.05 25.817 8.877 25.642 C 8.582 25.344 7.213 24.329 7.022 23.946 C 6.977 23.856 6.844 23.542 6.873 23.484 C 7.018 23.194 8.381 22.682 8.672 22.487 C 9.476 21.95 7.415 19.603 7.949 18.707 C 8.338 18.054 6.919 19.54 7.892 19.08 C 8.454 18.814 6.225 19.038 5.411 18.49 C 5.031 18.234 4.945 17.488 5.278 17.256 C 6.274 16.56 6.056 15.438 6.2 15.696 C 7.433 17.916 8.35 15.611 6.603 15.885 C 5.844 16.004 9.041 16.35 9.349 16.427 C 13.216 17.393 12.584 16.17 12.964 16.091 C 18.324 14.976 15.228 10.706 12.39 7.093 C 12.099 6.723 12.301 5.274 11.937 4.906"
                          style="stroke-width: 1;"/>
                </g>
                <g id="Kx" class="d-none Kx" init_rotate="120">
                    <ellipse fill="rgb(225,225,225)" cx="16" cy="16" rx="16" ry="16"></ellipse>
                    <path class="c1" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 15.226 4.901 C 15.386 6.262 15.038 10.344 15.284 11.821 C 15.474 12.965 14.938 14.131 15.518 15.28 C 15.588 15.418 15.618 15.567 15.564 15.73 C 15.541 15.798 15.576 16.013 15.594 16.039 C 15.964 16.591 16.809 18.055 17.353 18.415 C 18.802 19.376 19.934 20.729 21.353 21.669 C 22.052 22.132 22.805 22.471 23.481 22.918 C 23.615 23.007 24.663 23.562 24.787 23.562 C 24.993 23.561 25.007 22.483 25.055 22.337 C 25.536 20.865 23.455 19.272 23.121 18.761 C 22.272 17.461 22.753 17.549 21.942 16.812 C 21.58 16.483 21.14 14.917 21.042 14.644 C 20.654 13.57 21.01 15.006 19.92 12.462 C 19.455 11.377 19.13 10.104 18.221 8.393 C 17.979 7.937 17.902 7.252 17.844 6.817 C 17.21 2.069 14.519 6.067 15.816 7.503"></path>
                    <path class="c2" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 14.565 6.22 C 14.565 7.234 14.881 8.654 14.642 9.608 C 14.452 10.368 14.283 11.767 14.546 12.548 C 14.893 13.577 14.942 15.872 14.472 16.811 C 13.254 19.247 10.995 21.056 8.838 22.674 C 8.071 23.249 7.266 23.57 6.554 24.044 C 6.348 24.182 6.038 24.31 5.793 24.349 C 5.648 24.371 6.212 23.963 6.359 23.963 C 6.51 23.963 6.473 24.043 6.47 24.04 C 5.925 23.485 4.938 24.178 4.415 23.12 C 3.875 22.031 5.316 21.195 6.041 20.629 C 7.424 19.549 7.254 17.778 8.822 15.908 C 9.064 15.619 8.782 14.532 9.709 13.911 C 10.422 13.433 10.085 11.759 11.367 10.454 C 11.727 10.087 11.782 8.896 11.88 8.994 C 12.45 9.564 11.571 8.039 12.343 5.846 C 12.575 5.185 12.64 4.404 13.682 5.191 C 16.808 7.552 14.493 6.783 14.907 6.99"></path>
                    <path class="c3" stroke="rgb(0, 0, 0)" fill="rgb(077, 105, 207)"
                          d="M 7.091 24.901 C 8.3 24.381 8.618 23.31 9.675 22.603 C 10.784 21.862 11.419 20.87 12.552 20.113 C 13.152 19.711 13.695 18.478 14.089 17.889 C 14.137 17.818 15.28 16.533 15.309 16.547 C 15.844 16.811 16.954 18.529 17.42 18.838 C 19.266 20.06 20.513 21.846 22.504 22.832 C 23.048 23.101 23.858 24.384 23.654 25.157 C 23.175 26.973 22.057 26.34 18.377 24.273 C 17.895 24.002 16.704 24.397 15.666 24.294 C 14.626 24.19 15.925 23.88 15.656 24.092 C 15.473 24.236 13.09 23.989 11.857 24.977 C 10.105 26.38 7.506 28.125 5.994 25.856 C 5.705 25.423 7.049 24.475 7.371 24.475"></path>
                </g>
                <g id="Hx"> <-- connector line -->
                    <ellipse style="fill: none" cx="16" cy="16" rx="16" ry="16"></ellipse>
                    <path style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);"
                          d="M 1.69 14.208 L 18.536 32.348"></path>
                </g>
            </defs>
        </svg>
    </div>
    <div id="misc"></div>
</div>
</body>
</html>